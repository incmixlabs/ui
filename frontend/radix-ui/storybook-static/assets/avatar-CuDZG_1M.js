import{r}from"./iframe-BXP7S-hP.js";import{f as E,P as u,u as I,g as f,h as L,d as P,a as x,e as b,c as g,m as _}from"./theme-D6H7S_T9.js";import{r as M}from"./radius.prop-BFb5uVoY.js";import{j as c}from"./jsx-runtime-CQTdPr-F.js";var m="Avatar",[D,W]=E(m),[k,v]=D(m),h=r.forwardRef((t,a)=>{const{__scopeAvatar:o,...e}=t,[s,n]=r.useState("idle");return c.jsx(k,{scope:o,imageLoadingStatus:s,onImageLoadingStatusChange:n,children:c.jsx(u.span,{...e,ref:a})})});h.displayName=m;var A="AvatarImage",N=r.forwardRef((t,a)=>{const{__scopeAvatar:o,src:e,onLoadingStatusChange:s=()=>{},...n}=t,l=v(A,o),i=F(e,n.referrerPolicy),d=I(p=>{s(p),l.onImageLoadingStatusChange(p)});return f(()=>{i!=="idle"&&d(i)},[i,d]),i==="loaded"?c.jsx(u.img,{...n,ref:a,src:e}):null});N.displayName=A;var S="AvatarFallback",C=r.forwardRef((t,a)=>{const{__scopeAvatar:o,delayMs:e,...s}=t,n=v(S,o),[l,i]=r.useState(e===void 0);return r.useEffect(()=>{if(e!==void 0){const d=window.setTimeout(()=>i(!0),e);return()=>window.clearTimeout(d)}},[e]),l&&n.imageLoadingStatus!=="loaded"?c.jsx(u.span,{...s,ref:a}):null});C.displayName=S;function F(t,a){const[o,e]=r.useState("idle");return f(()=>{if(!t){e("error");return}let s=!0;const n=new window.Image,l=i=>()=>{s&&e(i)};return e("loading"),n.onload=l("loaded"),n.onerror=l("error"),n.src=t,a&&(n.referrerPolicy=a),()=>{s=!1}},[t,a]),o}var T=h,j=N,q=C;const z=["1","2","3","4","5","6","7","8","9"],O=["solid","soft"],B={...x,size:{type:"enum",className:"rt-r-size",values:z,default:"3",responsive:!0},variant:{type:"enum",className:"rt-variant",values:O,default:"soft"},...P,...L,...M,fallback:{type:"ReactNode",required:!0}};function y(t,a){const{asChild:o,children:e}=t;if(!o)return typeof a=="function"?a(e):a;const s=r.Children.only(e);return r.cloneElement(s,{children:typeof a=="function"?a(s.props.children):a})}y.__docgenInfo={description:"This is a helper function that is used when a component supports `asChild`\nusing the `Slot` component but its implementation contains nested DOM elements.\n\nUsing it ensures if a consumer uses the `asChild` prop, the elements are in\ncorrect order in the DOM, adopting the intended consumer `children`.",methods:[],displayName:"getSubtree",props:{asChild:{required:!0,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const w=r.forwardRef((t,a)=>{const{asChild:o,children:e,className:s,style:n,color:l,radius:i,...d}=b(t,B,_);return r.createElement(T,{"data-accent-color":l,"data-radius":i,className:g("rt-reset","rt-AvatarRoot",s),style:n,asChild:o},y({asChild:o,children:e},r.createElement(R,{ref:a,...d})))});w.displayName="Avatar";const R=r.forwardRef(({fallback:t,...a},o)=>{const[e,s]=r.useState("idle");return r.createElement(r.Fragment,null,e==="idle"||e==="loading"?r.createElement("span",{className:"rt-AvatarFallback"}):null,e==="error"?r.createElement(q,{className:g("rt-AvatarFallback",{"rt-one-letter":typeof t=="string"&&t.length===1,"rt-two-letters":typeof t=="string"&&t.length===2}),delayMs:0},t):null,r.createElement(j,{ref:o,className:"rt-AvatarImage",...a,onLoadingStatusChange:n=>{a.onLoadingStatusChange?.(n),s(n)}}))});R.displayName="AvatarImpl";w.__docgenInfo={description:"",methods:[],displayName:"Avatar",props:{fallback:{required:!0,tsType:{name:"NonNullable",elements:[{name:"unknown"}],raw:"NonNullable<AvatarOwnProps['fallback']>"},description:""}},composes:["ComponentPropsWithout"]};export{w as A};
