import{j as d}from"./jsx-runtime-D_zvdyIk.js";import{a as M,r as l}from"./iframe-DsuaOdjx.js";import{c as T,b as z,d as x}from"./theme-BFbej9HP.js";import{P as L,h as U,f as V,d as $,e as G,m as H,a as I}from"./high-contrast.prop-DN4VqJ5o.js";import{g as O}from"./get-subtree-COcTOnEl.js";import{r as W}from"./radius.prop-BFb5uVoY.js";var A={exports:{}},y={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N;function B(){if(N)return y;N=1;var e=M();function a(n,c){return n===c&&(n!==0||1/n===1/c)||n!==n&&c!==c}var o=typeof Object.is=="function"?Object.is:a,r=e.useState,s=e.useEffect,t=e.useLayoutEffect,f=e.useDebugValue;function u(n,c){var p=c(),g=r({inst:{value:p,getSnapshot:c}}),m=g[0].inst,h=g[1];return t(function(){m.value=p,m.getSnapshot=c,i(m)&&h({inst:m})},[n,p,c]),s(function(){return i(m)&&h({inst:m}),n(function(){i(m)&&h({inst:m})})},[n]),f(p),p}function i(n){var c=n.getSnapshot;n=n.value;try{var p=c();return!o(n,p)}catch{return!0}}function v(n,c){return c()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:u;return y.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:S,y}var R;function K(){return R||(R=1,A.exports=B()),A.exports}var J=K();function Q(){return J.useSyncExternalStore(X,()=>!0,()=>!1)}function X(){return()=>{}}var w="Avatar",[Y,me]=T(w),[Z,b]=Y(w),j=l.forwardRef((e,a)=>{const{__scopeAvatar:o,...r}=e,[s,t]=l.useState("idle");return d.jsx(Z,{scope:o,imageLoadingStatus:s,onImageLoadingStatusChange:t,children:d.jsx(L.span,{...r,ref:a})})});j.displayName=w;var P="AvatarImage",_=l.forwardRef((e,a)=>{const{__scopeAvatar:o,src:r,onLoadingStatusChange:s=()=>{},...t}=e,f=b(P,o),u=ee(r,t),i=z(v=>{s(v),f.onImageLoadingStatusChange(v)});return x(()=>{u!=="idle"&&i(u)},[u,i]),u==="loaded"?d.jsx(L.img,{...t,ref:a,src:r}):null});_.displayName=P;var k="AvatarFallback",D=l.forwardRef((e,a)=>{const{__scopeAvatar:o,delayMs:r,...s}=e,t=b(k,o),[f,u]=l.useState(r===void 0);return l.useEffect(()=>{if(r!==void 0){const i=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(i)}},[r]),f&&t.imageLoadingStatus!=="loaded"?d.jsx(L.span,{...s,ref:a}):null});D.displayName=k;function C(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ee(e,{referrerPolicy:a,crossOrigin:o}){const r=Q(),s=l.useRef(null),t=r?(s.current||(s.current=new window.Image),s.current):null,[f,u]=l.useState(()=>C(t,e));return x(()=>{u(C(t,e))},[t,e]),x(()=>{const i=n=>()=>{u(n)};if(!t)return;const v=i("loaded"),S=i("error");return t.addEventListener("load",v),t.addEventListener("error",S),a&&(t.referrerPolicy=a),typeof o=="string"&&(t.crossOrigin=o),()=>{t.removeEventListener("load",v),t.removeEventListener("error",S)}},[t,o,a]),f}var te=j,ae=_,re=D;const ne=["1","2","3","4","5","6","7","8","9"],oe=["solid","soft"],se={...$,size:{type:"enum",className:"rt-r-size",values:ne,default:"3",responsive:!0},variant:{type:"enum",className:"rt-variant",values:oe,default:"soft"},...V,...U,...W,fallback:{type:"ReactNode",required:!0}},E={Root:te,Image:ae,Fallback:re},F=l.forwardRef((e,a)=>{const{asChild:o,children:r,className:s,style:t,color:f,radius:u,...i}=G(e,se,H);return d.jsx(E.Root,{"data-accent-color":f,"data-radius":u,className:I("rt-reset","rt-AvatarRoot",s),style:t,asChild:o,children:O({asChild:o,children:r},d.jsx(q,{ref:a,...i}))})});F.displayName="Avatar";const q=l.forwardRef(({fallback:e,...a},o)=>{const[r,s]=l.useState("idle");return d.jsxs(d.Fragment,{children:[r==="idle"||r==="loading"?d.jsx("span",{className:"rt-AvatarFallback"}):null,r==="error"?d.jsx(E.Fallback,{className:I("rt-AvatarFallback",{"rt-one-letter":typeof e=="string"&&e.length===1,"rt-two-letters":typeof e=="string"&&e.length===2}),delayMs:0,children:e}):null,d.jsx(E.Image,{ref:o,className:"rt-AvatarImage",...a,onLoadingStatusChange:t=>{a.onLoadingStatusChange?.(t),s(t)}})]})});q.displayName="AvatarImpl";F.__docgenInfo={description:"",methods:[],displayName:"Avatar",props:{fallback:{required:!0,tsType:{name:"NonNullable",elements:[{name:"unknown"}],raw:'NonNullable<AvatarOwnProps["fallback"]>'},description:""}},composes:["ComponentPropsWithout"]};export{F as A};
